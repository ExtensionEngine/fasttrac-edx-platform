<%page expression_filter="h"/>
<%inherit file="/main.html" />
<%namespace name='static' file='/static_content.html'/>

<%block name="pagetitle">Affiliates CSV Actions</%block>

<style>
  .flash-message {
    width: 80%;
    padding: 1rem;
    margin: 2rem;
    border: 1px solid #777;
  }

  #csv-actions {
    height: 70px;
    line-height: 40px;
  }

  #csv-actions a {
    display: inline-block;
    border: 1px solid;
    padding: 0 1rem;
    margin-top: 1rem;
    margin-right: 1rem;
  }

  #csv-files li {
    height: 30px;
    line-height: 30px;
  }
</style>

<section class="container">
  % if messages:
    % for message in messages:
      <p class="flash-message">${message}</p>
    % endfor
  % endif

  <div id="csv-actions">
    <a href="csv_export?report_type=export_csv_affiliate_report">
      Export Affiliate Report
    </a>
    <a href="csv_export?report_type=export_csv_affiliate_course_report">
      Export Affiliate Course Report
    </a>
    <a href="csv_export?report_type=export_csv_user_report">
      Export User Report
    </a>
    <a href="csv_export?report_type=export_csv_time_report">
      Export Course Time Report
    </a>
    <a href="csv_export?report_type=export_csv_completion_report">
      Export Course Completion Report
    </a>
  </div>

  <div id="csv-files">
    <h1>Download generated CSV files</h1>
    <ul>
      % for name, url in csv_files:
      <li>
        <a href="${url}">${name} Download</a>
      </li>
      % endfor
    </ul>
  </div>
</section>
